!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l="all",c=(API,API.store),s=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editText:e.todo.title},n}return r(t,React.Component),o(t,[{key:"handleSubmit",value:function(e){var t=this.state.editText.trim();t?(this.props.onSave(t),this.setState({editText:t})):this.props.onDestroy()}},{key:"handleEdit",value:function(){this.props.onEdit(),this.setState({editText:this.props.todo.title})}},{key:"handleKeyDown",value:function(e){27===e.which?(this.setState({editText:this.props.todo.title}),this.props.onCancel(e)):13===e.which&&this.handleSubmit(e)}},{key:"handleChange",value:function(e){this.setState({editText:e.target.value})}},{key:"getInitialState",value:function(){return{editText:this.props.todo.title}}},{key:"componentDidUpdate",value:function(e){if(!e.editing&&this.props.editing){var t=this.textInput;t.focus(),t.setSelectionRange(t.value.length,t.value.length)}}},{key:"render",value:function(){var e=this,t=classNames({completed:this.props.todo.completed,editing:this.props.editing});return React.createElement("li",{className:t},React.createElement("div",{className:"view"},React.createElement("input",{className:"toggle",type:"checkbox",checked:this.props.todo.completed,onChange:this.props.onToggle}),React.createElement("label",{onDoubleClick:this.handleEdit.bind(this)},this.props.todo.title),React.createElement("button",{className:"destroy",onClick:this.props.onDestroy})),React.createElement("input",{ref:function(t){return e.textInput=t},className:"edit",value:this.state.editText,onBlur:this.handleSubmit.bind(this),onChange:this.handleChange.bind(this),onKeyDown:this.handleKeyDown.bind(this)}))}}]),t}(),u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,React.Component),o(t,[{key:"render",value:function(){var e=1==this.props.count?"item":"items",t=null;this.props.completedCount>0&&(t=React.createElement("button",{className:"clear-completed",onClick:this.props.onClearCompleted},"Clear completed"));var n=this.props.nowShowing;return React.createElement("footer",{className:"footer"},React.createElement("span",{className:"todo-count"},React.createElement("strong",null,this.props.count)," ",e," left"),React.createElement("ul",{className:"filters"},React.createElement("li",null,React.createElement("a",{href:"#/",className:classNames({selected:n===l})},"All")),React.createElement("li",null,React.createElement("a",{href:"#/active",className:classNames({selected:"active"===n})},"Active")),React.createElement("li",null,React.createElement("a",{href:"#/completed",className:classNames({selected:"completed"===n})},"Completed"))),t)}}]),t}(),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={nowShowing:l,editing:null},n}return r(t,React.Component),o(t,[{key:"componentDidMount",value:function(){var e=this.setState;Router({"/":e.bind(this,{nowShowing:l}),"/active":e.bind(this,{nowShowing:"active"}),"/completed":e.bind(this,{nowShowing:"completed"})}).init("/")}},{key:"handleNewTodoKeyDown",value:function(e){if(13===e.keyCode){e.preventDefault();var t=this.newField.value.trim();t&&(this.props.api.addTodo(t),this.newField.value="")}}},{key:"toggleAll",value:function(e){var t=e.target.checked;API.toggleAll(t)}},{key:"toggle",value:function(e){API.toggleTodo(e),this.forceUpdate()}},{key:"destroy",value:function(e){API.removeTodo(e),this.forceUpdate()}},{key:"edit",value:function(e){this.setState({editing:e.id})}},{key:"save",value:function(e,t){API.renameTodo(e,t),this.setState({editing:null})}},{key:"cancel",value:function(){this.setState({editing:null})}},{key:"clearCompleted",value:function(){API.clearCompleted(),this.forceUpdate()}},{key:"render",value:function(){var e,t,n=this.props.api,o=n.todos(),i=n.remaining(),a=o;"active"==this.state.nowShowing?a=i:"completed"==this.state.nowShowing&&(a=n.completed());var r=a.map(function(e,t){return React.createElement(s,{key:e.id,todo:e,onToggle:this.toggle.bind(this,e),onDestroy:this.destroy.bind(this,e),onEdit:this.edit.bind(this,e),editing:this.state.editing===e.id,onSave:this.save.bind(this,e),onCancel:this.cancel})},this),l=o.length-i.length;return o.length&&(e=React.createElement(u,{count:i.length,completedCount:l,nowShowing:this.state.nowShowing,onClearCompleted:this.clearCompleted.bind(this)})),o.length&&(t=React.createElement("section",{className:"main"},React.createElement("ul",{className:"todo-list"},r))),React.createElement("div",null,React.createElement("header",{className:"header"},React.createElement("h1",null,c.counter),React.createElement("input",{className:"new-todo",placeholder:"What to do?",onKeyDown:this.handleNewTodoKeyDown.bind(this),autoFocus:!0})),t,e)}}]),t}(),h=ReactDOM.render(React.createElement(d,{api:API}),document.getElementsByClassName("todoapp")[0]);API.render=function(){h.forceUpdate()},API.READY=!0,API.reset(6)}]);